<!DOCTYPE html>
<html>
<body>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Page</title>
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	
</head>
<body>
<%@ include file="HomeMenu.jsp" %>

<%		
//Function to handle the button click event
	
		
		String msg=request.getParameter("msg");
		if(msg==null)
			msg="";
		if(msg.equals("RegistrationSuccessful"))
		{%>
			<script type="text/javascript">
			function call(){
				$.ajax({
				  url: 'Register.jsp',
				  method: 'GET',
				  success: function (data) {
				    // Programmatically trigger the button click
				    var button = document.getElementById('myButton');
				    button.click();
				  },
				  error: function (error) {
				    console.error('Ajax request failed: ', error);
				  }
				});
				
				}

				call();

			</script>
		<% 
		}
		if(msg.equals("RegistrationFailed"))
		{%>
		<script type="text/javascript">
			function call(){
				$.ajax({
				  url: 'http://localhost:9090/SIH-2023/register.jsp?msg=RegistrationSuccessful',
				  method: 'GET',
				  success: function (data) {
				    // Programmatically trigger the button click
				    var button = document.getElementById('myButton');
				    button.click();
				  },
				  error: function (error) {
				    console.error('Ajax request failed: ', error);
				  }
				});
				
				}

				call();

			</script>
			<%}
			
%>




<div class="row  m-3">
	<div class="col-sm-5 " style="background-image:images/register4.png; background-size:500px 500px">
	<div>
				 <!-- <span class="mt-1 p-1  text-success display-5 text-center"></span> -->				
	</div>
		<h1 class="alert text-bg-warning text-center">Register Form</h1>
		<form action="RegisterServlet" id="registrationFrom"method="post"  onsubmit="return validate()">
			<div class="mb-3">
				<input type="text" class="form-control" id="name" name="name" placeholder="Name" style="font-family: cursive" required >
			</div>
			<div class="mb-3">
				<input type="text" class="form-control" id="phone" name="phone" placeholder="Phone" style="font-family: cursive" required>
			</div>
			<div class="mb-3">
				<input type="password" class="form-control" id="pwd" name="pwd" placeholder="Password" style="font-family: cursive" required>
			</div>
			<div class="mb-3">
				<input type="password" class="form-control" id="c_pwd" name="c_pwd" placeholder="Confirm-Password"style="font-family: cursive" required>
			</div>
			<div class="mb-3">
				<input type="email" class="form-control" id="email" name="email" placeholder="Email" style="font-family: cursive" required>
			</div>
			<div class="mb-3">
				<input type="number" class="form-control" id="age" name="age" placeholder="Age" style="font-family: cursive" required>
			</div>
			
			<div class="mb-3">
				<span style="font-family: cursive">Male</span><input type="radio" name="gender"  id="gender1"  value="male" required>
				<span style="font-family: cursive">FeMale</span><input type="radio" name="gender"  id="gender2"  value="female" required>
			</div>
			<div class="mb-3">
				<button   class="btn btn-warning" type="submit" value="Register">Register</button>
				<button class="btn bg-black text-white" type="reset">Reset</button>
				<button class="btn btn-primary"  data-bs-toggle="modal" id="myButton"  style="display:none;" data-bs-target="#fp" type="button">Dummy</button>
			
			</div>
			
		</form>
	</div>
	<div class="col-sm-7 p-5" >
		<div id="demo" class="carousel slide" data-bs-ride="carousel">

  <!-- Indicators/dots -->
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#demo" data-bs-slide-to="0" class="active"></button>
    <button type="button" data-bs-target="#demo" data-bs-slide-to="1"></button>
    <button type="button" data-bs-target="#demo" data-bs-slide-to="2"></button>
  </div>
  <div class="carousel-inner " >
    <div class="carousel-item active" style="transition-duration: 1s;">
      <img src="images/register1.png.jpg" alt="Mental health" class="d-block w-100 ">
    </div>
    <div class="carousel-item">
      <img src="images/register2.png.jpg" alt="Mental health" class="d-block w-100 ">
    </div>
    <div class="carousel-item">
      <img src="images/register3.png.jpg" alt="Mental health " class="d-block w-100">
    </div>
  </div>

  <!-- Left and right controls/icons -->
  <button class="carousel-control-prev" type="button" data-bs-target="#demo" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#demo" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
  </button>
</div>  
		
	</div>
<div class="modal fade" id="fp" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"aria-labelledby="staticBackdropLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
		<div class="modal-content">
			<div class="modal-header">
				<h1 class="modal-title fs-5" id="staticBackdropLabel">Registration Successful</h1>
				<button type="button" class="btn-close ref" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
					<p>Now you can login in to your account</p>
						<a href="Login.jsp">
						<button type="button" class="btn  btn-info">Login!</button>
						</a>
			</div>
		</div>
	</div>
</div>
</div>
</body>
</html>